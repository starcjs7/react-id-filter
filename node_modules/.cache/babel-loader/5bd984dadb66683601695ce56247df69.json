{"ast":null,"code":"// VERSION: 2.3 LAST UPDATE: 11.07.2013\n\n/*\r\n * Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php\r\n *\r\n * Made by Wilq32, wilq32@gmail.com, Wroclaw, Poland, 01.2009\r\n * Website: http://jqueryrotate.com\r\n */\n(function ($) {\n  var supportedCSS,\n      supportedCSSOrigin,\n      styles = document.getElementsByTagName(\"head\")[0].style,\n      toCheck = \"transformProperty WebkitTransform OTransform msTransform MozTransform\".split(\" \");\n\n  for (var a = 0; a < toCheck.length; a++) if (styles[toCheck[a]] !== undefined) {\n    supportedCSS = toCheck[a];\n  }\n\n  if (supportedCSS) {\n    supportedCSSOrigin = supportedCSS.replace(/[tT]ransform/, \"TransformOrigin\");\n    if (supportedCSSOrigin[0] == \"T\") supportedCSSOrigin[0] = \"t\";\n  } // Bad eval to preven google closure to remove it from code o_O\n\n\n  eval('IE = \"v\"==\"\\v\"');\n  jQuery.fn.extend({\n    rotate: function (parameters) {\n      if (this.length === 0 || typeof parameters == \"undefined\") return;\n      if (typeof parameters == \"number\") parameters = {\n        angle: parameters\n      };\n      var returned = [];\n\n      for (var i = 0, i0 = this.length; i < i0; i++) {\n        var element = this.get(i);\n\n        if (!element.Wilq32 || !element.Wilq32.PhotoEffect) {\n          var paramClone = $.extend(true, {}, parameters);\n          var newRotObject = new Wilq32.PhotoEffect(element, paramClone)._rootObj;\n          returned.push($(newRotObject));\n        } else {\n          element.Wilq32.PhotoEffect._handleRotation(parameters);\n        }\n      }\n\n      return returned;\n    },\n    getRotateAngle: function () {\n      var ret = [0];\n\n      for (var i = 0, i0 = this.length; i < i0; i++) {\n        var element = this.get(i);\n\n        if (element.Wilq32 && element.Wilq32.PhotoEffect) {\n          ret[i] = element.Wilq32.PhotoEffect._angle;\n        }\n      }\n\n      return ret;\n    },\n    stopRotate: function () {\n      for (var i = 0, i0 = this.length; i < i0; i++) {\n        var element = this.get(i);\n\n        if (element.Wilq32 && element.Wilq32.PhotoEffect) {\n          clearTimeout(element.Wilq32.PhotoEffect._timer);\n        }\n      }\n    }\n  }); // Library agnostic interface\n\n  Wilq32 = window.Wilq32 || {};\n\n  Wilq32.PhotoEffect = function () {\n    if (supportedCSS) {\n      return function (img, parameters) {\n        img.Wilq32 = {\n          PhotoEffect: this\n        };\n        this._img = this._rootObj = this._eventObj = img;\n\n        this._handleRotation(parameters);\n      };\n    } else {\n      return function (img, parameters) {\n        this._img = img;\n        this._onLoadDelegate = [parameters];\n        this._rootObj = document.createElement('span');\n        this._rootObj.style.display = \"inline-block\";\n        this._rootObj.Wilq32 = {\n          PhotoEffect: this\n        };\n        img.parentNode.insertBefore(this._rootObj, img);\n\n        if (img.complete) {\n          this._Loader();\n        } else {\n          var self = this; // TODO: Remove jQuery dependency\n\n          jQuery(this._img).bind(\"load\", function () {\n            self._Loader();\n          });\n        }\n      };\n    }\n  }();\n\n  Wilq32.PhotoEffect.prototype = {\n    _setupParameters: function (parameters) {\n      this._parameters = this._parameters || {};\n\n      if (typeof this._angle !== \"number\") {\n        this._angle = 0;\n      }\n\n      if (typeof parameters.angle === \"number\") {\n        this._angle = parameters.angle;\n      }\n\n      this._parameters.animateTo = typeof parameters.animateTo === \"number\" ? parameters.animateTo : this._angle;\n      this._parameters.step = parameters.step || this._parameters.step || null;\n      this._parameters.easing = parameters.easing || this._parameters.easing || this._defaultEasing;\n      this._parameters.duration = 'duration' in parameters ? parameters.duration : parameters.duration || this._parameters.duration || 1000;\n      this._parameters.callback = parameters.callback || this._parameters.callback || this._emptyFunction;\n      this._parameters.center = parameters.center || this._parameters.center || [\"50%\", \"50%\"];\n\n      if (typeof this._parameters.center[0] == \"string\") {\n        this._rotationCenterX = parseInt(this._parameters.center[0], 10) / 100 * this._imgWidth * this._aspectW;\n      } else {\n        this._rotationCenterX = this._parameters.center[0];\n      }\n\n      if (typeof this._parameters.center[1] == \"string\") {\n        this._rotationCenterY = parseInt(this._parameters.center[1], 10) / 100 * this._imgHeight * this._aspectH;\n      } else {\n        this._rotationCenterY = this._parameters.center[1];\n      }\n\n      if (parameters.bind && parameters.bind != this._parameters.bind) {\n        this._BindEvents(parameters.bind);\n      }\n    },\n    _emptyFunction: function () {},\n    _defaultEasing: function (x, t, b, c, d) {\n      return -c * ((t = t / d - 1) * t * t * t - 1) + b;\n    },\n    _handleRotation: function (parameters, dontcheck) {\n      if (!supportedCSS && !this._img.complete && !dontcheck) {\n        this._onLoadDelegate.push(parameters);\n\n        return;\n      }\n\n      this._setupParameters(parameters);\n\n      if (this._angle == this._parameters.animateTo) {\n        this._rotate(this._angle);\n      } else {\n        this._animateStart();\n      }\n    },\n    _BindEvents: function (events) {\n      if (events && this._eventObj) {\n        // Unbinding previous Events\n        if (this._parameters.bind) {\n          var oldEvents = this._parameters.bind;\n\n          for (var a in oldEvents) if (oldEvents.hasOwnProperty(a)) // TODO: Remove jQuery dependency\n            jQuery(this._eventObj).unbind(a, oldEvents[a]);\n        }\n\n        this._parameters.bind = events;\n\n        for (var a in events) if (events.hasOwnProperty(a)) // TODO: Remove jQuery dependency\n          jQuery(this._eventObj).bind(a, events[a]);\n      }\n    },\n    _Loader: function () {\n      if (IE) return function () {\n        var width = this._img.width;\n        var height = this._img.height;\n        this._imgWidth = width;\n        this._imgHeight = height;\n\n        this._img.parentNode.removeChild(this._img);\n\n        this._vimage = this.createVMLNode('image');\n        this._vimage.src = this._img.src;\n        this._vimage.style.height = height + \"px\";\n        this._vimage.style.width = width + \"px\";\n        this._vimage.style.position = \"absolute\"; // FIXES IE PROBLEM - its only rendered if its on absolute position!\n\n        this._vimage.style.top = \"0px\";\n        this._vimage.style.left = \"0px\";\n        this._aspectW = this._aspectH = 1;\n        /* Group minifying a small 1px precision problem when rotating object */\n\n        this._container = this.createVMLNode('group');\n        this._container.style.width = width;\n        this._container.style.height = height;\n        this._container.style.position = \"absolute\";\n        this._container.style.top = \"0px\";\n        this._container.style.left = \"0px\";\n\n        this._container.setAttribute('coordsize', width - 1 + ',' + (height - 1)); // This -1, -1 trying to fix ugly problem with small displacement on IE\n\n\n        this._container.appendChild(this._vimage);\n\n        this._rootObj.appendChild(this._container);\n\n        this._rootObj.style.position = \"relative\"; // FIXES IE PROBLEM\n\n        this._rootObj.style.width = width + \"px\";\n        this._rootObj.style.height = height + \"px\";\n\n        this._rootObj.setAttribute('id', this._img.getAttribute('id'));\n\n        this._rootObj.className = this._img.className;\n        this._eventObj = this._rootObj;\n        var parameters;\n\n        while (parameters = this._onLoadDelegate.shift()) {\n          this._handleRotation(parameters, true);\n        }\n      };else return function () {\n        this._rootObj.setAttribute('id', this._img.getAttribute('id'));\n\n        this._rootObj.className = this._img.className;\n        this._imgWidth = this._img.naturalWidth;\n        this._imgHeight = this._img.naturalHeight;\n\n        var _widthMax = Math.sqrt(this._imgHeight * this._imgHeight + this._imgWidth * this._imgWidth);\n\n        this._width = _widthMax * 3;\n        this._height = _widthMax * 3;\n        this._aspectW = this._img.offsetWidth / this._img.naturalWidth;\n        this._aspectH = this._img.offsetHeight / this._img.naturalHeight;\n\n        this._img.parentNode.removeChild(this._img);\n\n        this._canvas = document.createElement('canvas');\n\n        this._canvas.setAttribute('width', this._width);\n\n        this._canvas.style.position = \"relative\";\n        this._canvas.style.left = -this._img.height * this._aspectW + \"px\";\n        this._canvas.style.top = -this._img.width * this._aspectH + \"px\";\n        this._canvas.Wilq32 = this._rootObj.Wilq32;\n\n        this._rootObj.appendChild(this._canvas);\n\n        this._rootObj.style.width = this._img.width * this._aspectW + \"px\";\n        this._rootObj.style.height = this._img.height * this._aspectH + \"px\";\n        this._eventObj = this._canvas;\n        this._cnv = this._canvas.getContext('2d');\n        var parameters;\n\n        while (parameters = this._onLoadDelegate.shift()) {\n          this._handleRotation(parameters, true);\n        }\n      };\n    }(),\n    _animateStart: function () {\n      if (this._timer) {\n        clearTimeout(this._timer);\n      }\n\n      this._animateStartTime = +new Date();\n      this._animateStartAngle = this._angle;\n\n      this._animate();\n    },\n    _animate: function () {\n      var actualTime = +new Date();\n      var checkEnd = actualTime - this._animateStartTime > this._parameters.duration; // TODO: Bug for animatedGif for static rotation ? (to test)\n\n      if (checkEnd && !this._parameters.animatedGif) {\n        clearTimeout(this._timer);\n      } else {\n        if (this._canvas || this._vimage || this._img) {\n          var angle = this._parameters.easing(0, actualTime - this._animateStartTime, this._animateStartAngle, this._parameters.animateTo - this._animateStartAngle, this._parameters.duration);\n\n          this._rotate(~~(angle * 10) / 10);\n        }\n\n        if (this._parameters.step) {\n          this._parameters.step(this._angle);\n        }\n\n        var self = this;\n        this._timer = setTimeout(function () {\n          self._animate.call(self);\n        }, 10);\n      } // To fix Bug that prevents using recursive function in callback I moved this function to back\n\n\n      if (this._parameters.callback && checkEnd) {\n        this._angle = this._parameters.animateTo;\n\n        this._rotate(this._angle);\n\n        this._parameters.callback.call(this._rootObj);\n      }\n    },\n    _rotate: function () {\n      var rad = Math.PI / 180;\n      if (IE) return function (angle) {\n        this._angle = angle;\n        this._container.style.rotation = angle % 360 + \"deg\";\n        this._vimage.style.top = -(this._rotationCenterY - this._imgHeight / 2) + \"px\";\n        this._vimage.style.left = -(this._rotationCenterX - this._imgWidth / 2) + \"px\";\n        this._container.style.top = this._rotationCenterY - this._imgHeight / 2 + \"px\";\n        this._container.style.left = this._rotationCenterX - this._imgWidth / 2 + \"px\";\n      };else if (supportedCSS) return function (angle) {\n        this._angle = angle;\n        this._img.style[supportedCSS] = \"rotate(\" + angle % 360 + \"deg)\";\n        this._img.style[supportedCSSOrigin] = this._parameters.center.join(\" \");\n      };else return function (angle) {\n        this._angle = angle;\n        angle = angle % 360 * rad; // clear canvas\n\n        this._canvas.width = this._width; //+this._widthAdd;\n\n        this._canvas.height = this._height; //+this._heightAdd;\n        // REMEMBER: all drawings are read from backwards.. so first function is translate, then rotate, then translate, translate..\n\n        this._cnv.translate(this._imgWidth * this._aspectW, this._imgHeight * this._aspectH); // at least center image on screen\n\n\n        this._cnv.translate(this._rotationCenterX, this._rotationCenterY); // we move image back to its orginal\n\n\n        this._cnv.rotate(angle); // rotate image\n\n\n        this._cnv.translate(-this._rotationCenterX, -this._rotationCenterY); // move image to its center, so we can rotate around its center\n\n\n        this._cnv.scale(this._aspectW, this._aspectH); // SCALE - if needed ;)\n\n\n        this._cnv.drawImage(this._img, 0, 0); // First - we draw image\n\n      };\n    }()\n  };\n\n  if (IE) {\n    Wilq32.PhotoEffect.prototype.createVMLNode = function () {\n      document.createStyleSheet().addRule(\".rvml\", \"behavior:url(#default#VML)\");\n\n      try {\n        !document.namespaces.rvml && document.namespaces.add(\"rvml\", \"urn:schemas-microsoft-com:vml\");\n        return function (tagName) {\n          return document.createElement('<rvml:' + tagName + ' class=\"rvml\">');\n        };\n      } catch (e) {\n        return function (tagName) {\n          return document.createElement('<' + tagName + ' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"rvml\">');\n        };\n      }\n    }();\n  }\n})(jQuery);","map":{"version":3,"sources":["C:/Users/wfsk1/Desktop/job_description/front-end/src/Components/RandomWheel/jqueryRotate.js"],"names":["$","supportedCSS","supportedCSSOrigin","styles","document","getElementsByTagName","style","toCheck","split","a","length","undefined","replace","eval","jQuery","fn","extend","rotate","parameters","angle","returned","i","i0","element","get","Wilq32","PhotoEffect","paramClone","newRotObject","_rootObj","push","_handleRotation","getRotateAngle","ret","_angle","stopRotate","clearTimeout","_timer","window","img","_img","_eventObj","_onLoadDelegate","createElement","display","parentNode","insertBefore","complete","_Loader","self","bind","prototype","_setupParameters","_parameters","animateTo","step","easing","_defaultEasing","duration","callback","_emptyFunction","center","_rotationCenterX","parseInt","_imgWidth","_aspectW","_rotationCenterY","_imgHeight","_aspectH","_BindEvents","x","t","b","c","d","dontcheck","_rotate","_animateStart","events","oldEvents","hasOwnProperty","unbind","IE","width","height","removeChild","_vimage","createVMLNode","src","position","top","left","_container","setAttribute","appendChild","getAttribute","className","shift","naturalWidth","naturalHeight","_widthMax","Math","sqrt","_width","_height","offsetWidth","offsetHeight","_canvas","_cnv","getContext","_animateStartTime","Date","_animateStartAngle","_animate","actualTime","checkEnd","animatedGif","setTimeout","call","rad","PI","rotation","join","translate","scale","drawImage","createStyleSheet","addRule","namespaces","rvml","add","tagName","e"],"mappings":"AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,CAAC,UAAUA,CAAV,EAAa;AACZ,MAAIC,YAAJ;AAAA,MAAkBC,kBAAlB;AAAA,MAAsCC,MAAM,GAAGC,QAAQ,CAACC,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyCC,KAAxF;AAAA,MAA+FC,OAAO,GAAG,wEAAwEC,KAAxE,CAA8E,GAA9E,CAAzG;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,OAAO,CAACG,MAA5B,EAAoCD,CAAC,EAArC,EAAyC,IAAIN,MAAM,CAACI,OAAO,CAACE,CAAD,CAAR,CAAN,KAAuBE,SAA3B,EAAsC;AAAEV,IAAAA,YAAY,GAAGM,OAAO,CAACE,CAAD,CAAtB;AAA4B;;AAC7G,MAAIR,YAAJ,EAAkB;AAChBC,IAAAA,kBAAkB,GAAGD,YAAY,CAACW,OAAb,CAAqB,cAArB,EAAqC,iBAArC,CAArB;AACA,QAAIV,kBAAkB,CAAC,CAAD,CAAlB,IAAyB,GAA7B,EAAkCA,kBAAkB,CAAC,CAAD,CAAlB,GAAwB,GAAxB;AACnC,GANW,CAQZ;;;AACAW,EAAAA,IAAI,CAAC,gBAAD,CAAJ;AAEAC,EAAAA,MAAM,CAACC,EAAP,CAAUC,MAAV,CAAiB;AACfC,IAAAA,MAAM,EAAE,UAAUC,UAAV,EAAsB;AAC5B,UAAI,KAAKR,MAAL,KAAgB,CAAhB,IAAqB,OAAOQ,UAAP,IAAqB,WAA9C,EAA2D;AAC3D,UAAI,OAAOA,UAAP,IAAqB,QAAzB,EAAmCA,UAAU,GAAG;AAAEC,QAAAA,KAAK,EAAED;AAAT,OAAb;AACnC,UAAIE,QAAQ,GAAG,EAAf;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,EAAE,GAAG,KAAKZ,MAA1B,EAAkCW,CAAC,GAAGC,EAAtC,EAA0CD,CAAC,EAA3C,EAA+C;AAC7C,YAAIE,OAAO,GAAG,KAAKC,GAAL,CAASH,CAAT,CAAd;;AACA,YAAI,CAACE,OAAO,CAACE,MAAT,IAAmB,CAACF,OAAO,CAACE,MAAR,CAAeC,WAAvC,EAAoD;AAElD,cAAIC,UAAU,GAAG3B,CAAC,CAACgB,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBE,UAAnB,CAAjB;AACA,cAAIU,YAAY,GAAG,IAAIH,MAAM,CAACC,WAAX,CAAuBH,OAAvB,EAAgCI,UAAhC,EAA4CE,QAA/D;AAEAT,UAAAA,QAAQ,CAACU,IAAT,CAAc9B,CAAC,CAAC4B,YAAD,CAAf;AACD,SAND,MAOK;AACHL,UAAAA,OAAO,CAACE,MAAR,CAAeC,WAAf,CAA2BK,eAA3B,CAA2Cb,UAA3C;AACD;AACF;;AACD,aAAOE,QAAP;AACD,KAnBc;AAoBfY,IAAAA,cAAc,EAAE,YAAY;AAC1B,UAAIC,GAAG,GAAG,CAAC,CAAD,CAAV;;AACA,WAAK,IAAIZ,CAAC,GAAG,CAAR,EAAWC,EAAE,GAAG,KAAKZ,MAA1B,EAAkCW,CAAC,GAAGC,EAAtC,EAA0CD,CAAC,EAA3C,EAA+C;AAC7C,YAAIE,OAAO,GAAG,KAAKC,GAAL,CAASH,CAAT,CAAd;;AACA,YAAIE,OAAO,CAACE,MAAR,IAAkBF,OAAO,CAACE,MAAR,CAAeC,WAArC,EAAkD;AAChDO,UAAAA,GAAG,CAACZ,CAAD,CAAH,GAASE,OAAO,CAACE,MAAR,CAAeC,WAAf,CAA2BQ,MAApC;AACD;AACF;;AACD,aAAOD,GAAP;AACD,KA7Bc;AA8BfE,IAAAA,UAAU,EAAE,YAAY;AACtB,WAAK,IAAId,CAAC,GAAG,CAAR,EAAWC,EAAE,GAAG,KAAKZ,MAA1B,EAAkCW,CAAC,GAAGC,EAAtC,EAA0CD,CAAC,EAA3C,EAA+C;AAC7C,YAAIE,OAAO,GAAG,KAAKC,GAAL,CAASH,CAAT,CAAd;;AACA,YAAIE,OAAO,CAACE,MAAR,IAAkBF,OAAO,CAACE,MAAR,CAAeC,WAArC,EAAkD;AAChDU,UAAAA,YAAY,CAACb,OAAO,CAACE,MAAR,CAAeC,WAAf,CAA2BW,MAA5B,CAAZ;AACD;AACF;AACF;AArCc,GAAjB,EAXY,CAmDZ;;AAEAZ,EAAAA,MAAM,GAAGa,MAAM,CAACb,MAAP,IAAiB,EAA1B;;AACAA,EAAAA,MAAM,CAACC,WAAP,GAAsB,YAAY;AAEhC,QAAIzB,YAAJ,EAAkB;AAChB,aAAO,UAAUsC,GAAV,EAAerB,UAAf,EAA2B;AAChCqB,QAAAA,GAAG,CAACd,MAAJ,GAAa;AACXC,UAAAA,WAAW,EAAE;AADF,SAAb;AAIA,aAAKc,IAAL,GAAY,KAAKX,QAAL,GAAgB,KAAKY,SAAL,GAAiBF,GAA7C;;AACA,aAAKR,eAAL,CAAqBb,UAArB;AACD,OAPD;AAQD,KATD,MASO;AACL,aAAO,UAAUqB,GAAV,EAAerB,UAAf,EAA2B;AAChC,aAAKsB,IAAL,GAAYD,GAAZ;AACA,aAAKG,eAAL,GAAuB,CAACxB,UAAD,CAAvB;AAEA,aAAKW,QAAL,GAAgBzB,QAAQ,CAACuC,aAAT,CAAuB,MAAvB,CAAhB;AACA,aAAKd,QAAL,CAAcvB,KAAd,CAAoBsC,OAApB,GAA8B,cAA9B;AACA,aAAKf,QAAL,CAAcJ,MAAd,GACA;AACEC,UAAAA,WAAW,EAAE;AADf,SADA;AAIAa,QAAAA,GAAG,CAACM,UAAJ,CAAeC,YAAf,CAA4B,KAAKjB,QAAjC,EAA2CU,GAA3C;;AAEA,YAAIA,GAAG,CAACQ,QAAR,EAAkB;AAChB,eAAKC,OAAL;AACD,SAFD,MAEO;AACL,cAAIC,IAAI,GAAG,IAAX,CADK,CAEL;;AACAnC,UAAAA,MAAM,CAAC,KAAK0B,IAAN,CAAN,CAAkBU,IAAlB,CAAuB,MAAvB,EAA+B,YAAY;AAAED,YAAAA,IAAI,CAACD,OAAL;AAAiB,WAA9D;AACD;AACF,OAnBD;AAoBD;AACF,GAjCoB,EAArB;;AAmCAvB,EAAAA,MAAM,CAACC,WAAP,CAAmByB,SAAnB,GAA+B;AAC7BC,IAAAA,gBAAgB,EAAE,UAAUlC,UAAV,EAAsB;AACtC,WAAKmC,WAAL,GAAmB,KAAKA,WAAL,IAAoB,EAAvC;;AACA,UAAI,OAAO,KAAKnB,MAAZ,KAAuB,QAA3B,EAAqC;AAAE,aAAKA,MAAL,GAAc,CAAd;AAAkB;;AACzD,UAAI,OAAOhB,UAAU,CAACC,KAAlB,KAA4B,QAAhC,EAA0C;AAAE,aAAKe,MAAL,GAAchB,UAAU,CAACC,KAAzB;AAAiC;;AAC7E,WAAKkC,WAAL,CAAiBC,SAAjB,GAA8B,OAAOpC,UAAU,CAACoC,SAAlB,KAAgC,QAAjC,GAA8CpC,UAAU,CAACoC,SAAzD,GAAuE,KAAKpB,MAAzG;AAEA,WAAKmB,WAAL,CAAiBE,IAAjB,GAAwBrC,UAAU,CAACqC,IAAX,IAAmB,KAAKF,WAAL,CAAiBE,IAApC,IAA4C,IAApE;AACA,WAAKF,WAAL,CAAiBG,MAAjB,GAA0BtC,UAAU,CAACsC,MAAX,IAAqB,KAAKH,WAAL,CAAiBG,MAAtC,IAAgD,KAAKC,cAA/E;AACA,WAAKJ,WAAL,CAAiBK,QAAjB,GAA4B,cAAcxC,UAAd,GAA2BA,UAAU,CAACwC,QAAtC,GAAiDxC,UAAU,CAACwC,QAAX,IAAuB,KAAKL,WAAL,CAAiBK,QAAxC,IAAoD,IAAjI;AACA,WAAKL,WAAL,CAAiBM,QAAjB,GAA4BzC,UAAU,CAACyC,QAAX,IAAuB,KAAKN,WAAL,CAAiBM,QAAxC,IAAoD,KAAKC,cAArF;AACA,WAAKP,WAAL,CAAiBQ,MAAjB,GAA0B3C,UAAU,CAAC2C,MAAX,IAAqB,KAAKR,WAAL,CAAiBQ,MAAtC,IAAgD,CAAC,KAAD,EAAQ,KAAR,CAA1E;;AACA,UAAI,OAAO,KAAKR,WAAL,CAAiBQ,MAAjB,CAAwB,CAAxB,CAAP,IAAqC,QAAzC,EAAmD;AACjD,aAAKC,gBAAL,GAAyBC,QAAQ,CAAC,KAAKV,WAAL,CAAiBQ,MAAjB,CAAwB,CAAxB,CAAD,EAA6B,EAA7B,CAAR,GAA2C,GAA5C,GAAmD,KAAKG,SAAxD,GAAoE,KAAKC,QAAjG;AACD,OAFD,MAEO;AACL,aAAKH,gBAAL,GAAwB,KAAKT,WAAL,CAAiBQ,MAAjB,CAAwB,CAAxB,CAAxB;AACD;;AACD,UAAI,OAAO,KAAKR,WAAL,CAAiBQ,MAAjB,CAAwB,CAAxB,CAAP,IAAqC,QAAzC,EAAmD;AACjD,aAAKK,gBAAL,GAAyBH,QAAQ,CAAC,KAAKV,WAAL,CAAiBQ,MAAjB,CAAwB,CAAxB,CAAD,EAA6B,EAA7B,CAAR,GAA2C,GAA5C,GAAmD,KAAKM,UAAxD,GAAqE,KAAKC,QAAlG;AACD,OAFD,MAEO;AACL,aAAKF,gBAAL,GAAwB,KAAKb,WAAL,CAAiBQ,MAAjB,CAAwB,CAAxB,CAAxB;AACD;;AAED,UAAI3C,UAAU,CAACgC,IAAX,IAAmBhC,UAAU,CAACgC,IAAX,IAAmB,KAAKG,WAAL,CAAiBH,IAA3D,EAAiE;AAAE,aAAKmB,WAAL,CAAiBnD,UAAU,CAACgC,IAA5B;AAAoC;AACxG,KAxB4B;AAyB7BU,IAAAA,cAAc,EAAE,YAAY,CAAG,CAzBF;AA0B7BH,IAAAA,cAAc,EAAE,UAAUa,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AAAE,aAAO,CAACD,CAAD,IAAM,CAACF,CAAC,GAAGA,CAAC,GAAGG,CAAJ,GAAQ,CAAb,IAAkBH,CAAlB,GAAsBA,CAAtB,GAA0BA,CAA1B,GAA8B,CAApC,IAAyCC,CAAhD;AAAmD,KA1BjE;AA2B7BzC,IAAAA,eAAe,EAAE,UAAUb,UAAV,EAAsByD,SAAtB,EAAiC;AAChD,UAAI,CAAC1E,YAAD,IAAiB,CAAC,KAAKuC,IAAL,CAAUO,QAA5B,IAAwC,CAAC4B,SAA7C,EAAwD;AACtD,aAAKjC,eAAL,CAAqBZ,IAArB,CAA0BZ,UAA1B;;AACA;AACD;;AACD,WAAKkC,gBAAL,CAAsBlC,UAAtB;;AACA,UAAI,KAAKgB,MAAL,IAAe,KAAKmB,WAAL,CAAiBC,SAApC,EAA+C;AAC7C,aAAKsB,OAAL,CAAa,KAAK1C,MAAlB;AACD,OAFD,MAGK;AACH,aAAK2C,aAAL;AACD;AACF,KAvC4B;AAyC7BR,IAAAA,WAAW,EAAE,UAAUS,MAAV,EAAkB;AAC7B,UAAIA,MAAM,IAAI,KAAKrC,SAAnB,EAA8B;AAC5B;AACA,YAAI,KAAKY,WAAL,CAAiBH,IAArB,EAA2B;AACzB,cAAI6B,SAAS,GAAG,KAAK1B,WAAL,CAAiBH,IAAjC;;AACA,eAAK,IAAIzC,CAAT,IAAcsE,SAAd,EAAyB,IAAIA,SAAS,CAACC,cAAV,CAAyBvE,CAAzB,CAAJ,EACvB;AACAK,YAAAA,MAAM,CAAC,KAAK2B,SAAN,CAAN,CAAuBwC,MAAvB,CAA8BxE,CAA9B,EAAiCsE,SAAS,CAACtE,CAAD,CAA1C;AACH;;AAED,aAAK4C,WAAL,CAAiBH,IAAjB,GAAwB4B,MAAxB;;AACA,aAAK,IAAIrE,CAAT,IAAcqE,MAAd,EAAsB,IAAIA,MAAM,CAACE,cAAP,CAAsBvE,CAAtB,CAAJ,EACpB;AACAK,UAAAA,MAAM,CAAC,KAAK2B,SAAN,CAAN,CAAuBS,IAAvB,CAA4BzC,CAA5B,EAA+BqE,MAAM,CAACrE,CAAD,CAArC;AACH;AACF,KAxD4B;AA0D7BuC,IAAAA,OAAO,EAAG,YAAY;AACpB,UAAIkC,EAAJ,EACE,OAAO,YAAY;AACjB,YAAIC,KAAK,GAAG,KAAK3C,IAAL,CAAU2C,KAAtB;AACA,YAAIC,MAAM,GAAG,KAAK5C,IAAL,CAAU4C,MAAvB;AACA,aAAKpB,SAAL,GAAiBmB,KAAjB;AACA,aAAKhB,UAAL,GAAkBiB,MAAlB;;AACA,aAAK5C,IAAL,CAAUK,UAAV,CAAqBwC,WAArB,CAAiC,KAAK7C,IAAtC;;AAEA,aAAK8C,OAAL,GAAe,KAAKC,aAAL,CAAmB,OAAnB,CAAf;AACA,aAAKD,OAAL,CAAaE,GAAb,GAAmB,KAAKhD,IAAL,CAAUgD,GAA7B;AACA,aAAKF,OAAL,CAAahF,KAAb,CAAmB8E,MAAnB,GAA4BA,MAAM,GAAG,IAArC;AACA,aAAKE,OAAL,CAAahF,KAAb,CAAmB6E,KAAnB,GAA2BA,KAAK,GAAG,IAAnC;AACA,aAAKG,OAAL,CAAahF,KAAb,CAAmBmF,QAAnB,GAA8B,UAA9B,CAXiB,CAWyB;;AAC1C,aAAKH,OAAL,CAAahF,KAAb,CAAmBoF,GAAnB,GAAyB,KAAzB;AACA,aAAKJ,OAAL,CAAahF,KAAb,CAAmBqF,IAAnB,GAA0B,KAA1B;AACA,aAAK1B,QAAL,GAAgB,KAAKG,QAAL,GAAgB,CAAhC;AAEA;;AACA,aAAKwB,UAAL,GAAkB,KAAKL,aAAL,CAAmB,OAAnB,CAAlB;AACA,aAAKK,UAAL,CAAgBtF,KAAhB,CAAsB6E,KAAtB,GAA8BA,KAA9B;AACA,aAAKS,UAAL,CAAgBtF,KAAhB,CAAsB8E,MAAtB,GAA+BA,MAA/B;AACA,aAAKQ,UAAL,CAAgBtF,KAAhB,CAAsBmF,QAAtB,GAAiC,UAAjC;AACA,aAAKG,UAAL,CAAgBtF,KAAhB,CAAsBoF,GAAtB,GAA4B,KAA5B;AACA,aAAKE,UAAL,CAAgBtF,KAAhB,CAAsBqF,IAAtB,GAA6B,KAA7B;;AACA,aAAKC,UAAL,CAAgBC,YAAhB,CAA6B,WAA7B,EAA0CV,KAAK,GAAG,CAAR,GAAY,GAAZ,IAAmBC,MAAM,GAAG,CAA5B,CAA1C,EAvBiB,CAuB0D;;;AAC3E,aAAKQ,UAAL,CAAgBE,WAAhB,CAA4B,KAAKR,OAAjC;;AAEA,aAAKzD,QAAL,CAAciE,WAAd,CAA0B,KAAKF,UAA/B;;AACA,aAAK/D,QAAL,CAAcvB,KAAd,CAAoBmF,QAApB,GAA+B,UAA/B,CA3BiB,CA2B0B;;AAC3C,aAAK5D,QAAL,CAAcvB,KAAd,CAAoB6E,KAApB,GAA4BA,KAAK,GAAG,IAApC;AACA,aAAKtD,QAAL,CAAcvB,KAAd,CAAoB8E,MAApB,GAA6BA,MAAM,GAAG,IAAtC;;AACA,aAAKvD,QAAL,CAAcgE,YAAd,CAA2B,IAA3B,EAAiC,KAAKrD,IAAL,CAAUuD,YAAV,CAAuB,IAAvB,CAAjC;;AACA,aAAKlE,QAAL,CAAcmE,SAAd,GAA0B,KAAKxD,IAAL,CAAUwD,SAApC;AACA,aAAKvD,SAAL,GAAiB,KAAKZ,QAAtB;AACA,YAAIX,UAAJ;;AACA,eAAOA,UAAU,GAAG,KAAKwB,eAAL,CAAqBuD,KAArB,EAApB,EAAkD;AAChD,eAAKlE,eAAL,CAAqBb,UAArB,EAAiC,IAAjC;AACD;AACF,OArCD,CADF,KAuCK,OAAO,YAAY;AACtB,aAAKW,QAAL,CAAcgE,YAAd,CAA2B,IAA3B,EAAiC,KAAKrD,IAAL,CAAUuD,YAAV,CAAuB,IAAvB,CAAjC;;AACA,aAAKlE,QAAL,CAAcmE,SAAd,GAA0B,KAAKxD,IAAL,CAAUwD,SAApC;AAEA,aAAKhC,SAAL,GAAiB,KAAKxB,IAAL,CAAU0D,YAA3B;AACA,aAAK/B,UAAL,GAAkB,KAAK3B,IAAL,CAAU2D,aAA5B;;AACA,YAAIC,SAAS,GAAGC,IAAI,CAACC,IAAL,CAAW,KAAKnC,UAAN,GAAqB,KAAKA,UAA1B,GAAyC,KAAKH,SAAN,GAAoB,KAAKA,SAA3E,CAAhB;;AACA,aAAKuC,MAAL,GAAcH,SAAS,GAAG,CAA1B;AACA,aAAKI,OAAL,GAAeJ,SAAS,GAAG,CAA3B;AAEA,aAAKnC,QAAL,GAAgB,KAAKzB,IAAL,CAAUiE,WAAV,GAAwB,KAAKjE,IAAL,CAAU0D,YAAlD;AACA,aAAK9B,QAAL,GAAgB,KAAK5B,IAAL,CAAUkE,YAAV,GAAyB,KAAKlE,IAAL,CAAU2D,aAAnD;;AAEA,aAAK3D,IAAL,CAAUK,UAAV,CAAqBwC,WAArB,CAAiC,KAAK7C,IAAtC;;AAGA,aAAKmE,OAAL,GAAevG,QAAQ,CAACuC,aAAT,CAAuB,QAAvB,CAAf;;AACA,aAAKgE,OAAL,CAAad,YAAb,CAA0B,OAA1B,EAAmC,KAAKU,MAAxC;;AACA,aAAKI,OAAL,CAAarG,KAAb,CAAmBmF,QAAnB,GAA8B,UAA9B;AACA,aAAKkB,OAAL,CAAarG,KAAb,CAAmBqF,IAAnB,GAA0B,CAAC,KAAKnD,IAAL,CAAU4C,MAAX,GAAoB,KAAKnB,QAAzB,GAAoC,IAA9D;AACA,aAAK0C,OAAL,CAAarG,KAAb,CAAmBoF,GAAnB,GAAyB,CAAC,KAAKlD,IAAL,CAAU2C,KAAX,GAAmB,KAAKf,QAAxB,GAAmC,IAA5D;AACA,aAAKuC,OAAL,CAAalF,MAAb,GAAsB,KAAKI,QAAL,CAAcJ,MAApC;;AAEA,aAAKI,QAAL,CAAciE,WAAd,CAA0B,KAAKa,OAA/B;;AACA,aAAK9E,QAAL,CAAcvB,KAAd,CAAoB6E,KAApB,GAA4B,KAAK3C,IAAL,CAAU2C,KAAV,GAAkB,KAAKlB,QAAvB,GAAkC,IAA9D;AACA,aAAKpC,QAAL,CAAcvB,KAAd,CAAoB8E,MAApB,GAA6B,KAAK5C,IAAL,CAAU4C,MAAV,GAAmB,KAAKhB,QAAxB,GAAmC,IAAhE;AACA,aAAK3B,SAAL,GAAiB,KAAKkE,OAAtB;AAEA,aAAKC,IAAL,GAAY,KAAKD,OAAL,CAAaE,UAAb,CAAwB,IAAxB,CAAZ;AACA,YAAI3F,UAAJ;;AACA,eAAOA,UAAU,GAAG,KAAKwB,eAAL,CAAqBuD,KAArB,EAApB,EAAkD;AAChD,eAAKlE,eAAL,CAAqBb,UAArB,EAAiC,IAAjC;AACD;AACF,OAjCI;AAkCN,KA1EQ,EA1DoB;AAsI7B2D,IAAAA,aAAa,EAAE,YAAY;AACzB,UAAI,KAAKxC,MAAT,EAAiB;AACfD,QAAAA,YAAY,CAAC,KAAKC,MAAN,CAAZ;AACD;;AACD,WAAKyE,iBAAL,GAAyB,CAAC,IAAIC,IAAJ,EAA1B;AACA,WAAKC,kBAAL,GAA0B,KAAK9E,MAA/B;;AACA,WAAK+E,QAAL;AACD,KA7I4B;AA8I7BA,IAAAA,QAAQ,EAAE,YAAY;AACpB,UAAIC,UAAU,GAAG,CAAC,IAAIH,IAAJ,EAAlB;AACA,UAAII,QAAQ,GAAGD,UAAU,GAAG,KAAKJ,iBAAlB,GAAsC,KAAKzD,WAAL,CAAiBK,QAAtE,CAFoB,CAIpB;;AACA,UAAIyD,QAAQ,IAAI,CAAC,KAAK9D,WAAL,CAAiB+D,WAAlC,EAA+C;AAC7ChF,QAAAA,YAAY,CAAC,KAAKC,MAAN,CAAZ;AACD,OAFD,MAGK;AACH,YAAI,KAAKsE,OAAL,IAAgB,KAAKrB,OAArB,IAAgC,KAAK9C,IAAzC,EAA+C;AAC7C,cAAIrB,KAAK,GAAG,KAAKkC,WAAL,CAAiBG,MAAjB,CAAwB,CAAxB,EAA2B0D,UAAU,GAAG,KAAKJ,iBAA7C,EAAgE,KAAKE,kBAArE,EAAyF,KAAK3D,WAAL,CAAiBC,SAAjB,GAA6B,KAAK0D,kBAA3H,EAA+I,KAAK3D,WAAL,CAAiBK,QAAhK,CAAZ;;AACA,eAAKkB,OAAL,CAAc,CAAC,EAAEzD,KAAK,GAAG,EAAV,CAAF,GAAmB,EAAhC;AACD;;AACD,YAAI,KAAKkC,WAAL,CAAiBE,IAArB,EAA2B;AACzB,eAAKF,WAAL,CAAiBE,IAAjB,CAAsB,KAAKrB,MAA3B;AACD;;AACD,YAAIe,IAAI,GAAG,IAAX;AACA,aAAKZ,MAAL,GAAcgF,UAAU,CAAC,YAAY;AACnCpE,UAAAA,IAAI,CAACgE,QAAL,CAAcK,IAAd,CAAmBrE,IAAnB;AACD,SAFuB,EAErB,EAFqB,CAAxB;AAGD,OApBmB,CAsBpB;;;AACA,UAAI,KAAKI,WAAL,CAAiBM,QAAjB,IAA6BwD,QAAjC,EAA2C;AACzC,aAAKjF,MAAL,GAAc,KAAKmB,WAAL,CAAiBC,SAA/B;;AACA,aAAKsB,OAAL,CAAa,KAAK1C,MAAlB;;AACA,aAAKmB,WAAL,CAAiBM,QAAjB,CAA0B2D,IAA1B,CAA+B,KAAKzF,QAApC;AACD;AACF,KA1K4B;AA4K7B+C,IAAAA,OAAO,EAAG,YAAY;AACpB,UAAI2C,GAAG,GAAGlB,IAAI,CAACmB,EAAL,GAAU,GAApB;AACA,UAAItC,EAAJ,EACE,OAAO,UAAU/D,KAAV,EAAiB;AACtB,aAAKe,MAAL,GAAcf,KAAd;AACA,aAAKyE,UAAL,CAAgBtF,KAAhB,CAAsBmH,QAAtB,GAAkCtG,KAAK,GAAG,GAAT,GAAgB,KAAjD;AACA,aAAKmE,OAAL,CAAahF,KAAb,CAAmBoF,GAAnB,GAAyB,EAAE,KAAKxB,gBAAL,GAAwB,KAAKC,UAAL,GAAkB,CAA5C,IAAiD,IAA1E;AACA,aAAKmB,OAAL,CAAahF,KAAb,CAAmBqF,IAAnB,GAA0B,EAAE,KAAK7B,gBAAL,GAAwB,KAAKE,SAAL,GAAiB,CAA3C,IAAgD,IAA1E;AACA,aAAK4B,UAAL,CAAgBtF,KAAhB,CAAsBoF,GAAtB,GAA4B,KAAKxB,gBAAL,GAAwB,KAAKC,UAAL,GAAkB,CAA1C,GAA8C,IAA1E;AACA,aAAKyB,UAAL,CAAgBtF,KAAhB,CAAsBqF,IAAtB,GAA6B,KAAK7B,gBAAL,GAAwB,KAAKE,SAAL,GAAiB,CAAzC,GAA6C,IAA1E;AAED,OARD,CADF,KAUK,IAAI/D,YAAJ,EACH,OAAO,UAAUkB,KAAV,EAAiB;AACtB,aAAKe,MAAL,GAAcf,KAAd;AACA,aAAKqB,IAAL,CAAUlC,KAAV,CAAgBL,YAAhB,IAAgC,YAAakB,KAAK,GAAG,GAArB,GAA4B,MAA5D;AACA,aAAKqB,IAAL,CAAUlC,KAAV,CAAgBJ,kBAAhB,IAAsC,KAAKmD,WAAL,CAAiBQ,MAAjB,CAAwB6D,IAAxB,CAA6B,GAA7B,CAAtC;AACD,OAJD,CADG,KAOH,OAAO,UAAUvG,KAAV,EAAiB;AACtB,aAAKe,MAAL,GAAcf,KAAd;AACAA,QAAAA,KAAK,GAAIA,KAAK,GAAG,GAAT,GAAgBoG,GAAxB,CAFsB,CAGtB;;AACA,aAAKZ,OAAL,CAAaxB,KAAb,GAAqB,KAAKoB,MAA1B,CAJsB,CAIW;;AACjC,aAAKI,OAAL,CAAavB,MAAb,GAAsB,KAAKoB,OAA3B,CALsB,CAKa;AAEnC;;AACA,aAAKI,IAAL,CAAUe,SAAV,CAAoB,KAAK3D,SAAL,GAAiB,KAAKC,QAA1C,EAAoD,KAAKE,UAAL,GAAkB,KAAKC,QAA3E,EARsB,CAQgE;;;AACtF,aAAKwC,IAAL,CAAUe,SAAV,CAAoB,KAAK7D,gBAAzB,EAA2C,KAAKI,gBAAhD,EATsB,CAS+C;;;AACrE,aAAK0C,IAAL,CAAU3F,MAAV,CAAiBE,KAAjB,EAVsB,CAUY;;;AAClC,aAAKyF,IAAL,CAAUe,SAAV,CAAoB,CAAC,KAAK7D,gBAA1B,EAA4C,CAAC,KAAKI,gBAAlD,EAXsB,CAWgD;;;AACtE,aAAK0C,IAAL,CAAUgB,KAAV,CAAgB,KAAK3D,QAArB,EAA+B,KAAKG,QAApC,EAZsB,CAYyB;;;AAC/C,aAAKwC,IAAL,CAAUiB,SAAV,CAAoB,KAAKrF,IAAzB,EAA+B,CAA/B,EAAkC,CAAlC,EAbsB,CAasB;;AAC7C,OAdD;AAgBH,KAnCQ;AA5KoB,GAA/B;;AAkNA,MAAI0C,EAAJ,EAAQ;AACNzD,IAAAA,MAAM,CAACC,WAAP,CAAmByB,SAAnB,CAA6BoC,aAA7B,GAA8C,YAAY;AACxDnF,MAAAA,QAAQ,CAAC0H,gBAAT,GAA4BC,OAA5B,CAAoC,OAApC,EAA6C,4BAA7C;;AACA,UAAI;AACF,SAAC3H,QAAQ,CAAC4H,UAAT,CAAoBC,IAArB,IAA6B7H,QAAQ,CAAC4H,UAAT,CAAoBE,GAApB,CAAwB,MAAxB,EAAgC,+BAAhC,CAA7B;AACA,eAAO,UAAUC,OAAV,EAAmB;AACxB,iBAAO/H,QAAQ,CAACuC,aAAT,CAAuB,WAAWwF,OAAX,GAAqB,gBAA5C,CAAP;AACD,SAFD;AAGD,OALD,CAKE,OAAOC,CAAP,EAAU;AACV,eAAO,UAAUD,OAAV,EAAmB;AACxB,iBAAO/H,QAAQ,CAACuC,aAAT,CAAuB,MAAMwF,OAAN,GAAgB,sDAAvC,CAAP;AACD,SAFD;AAGD;AACF,KAZ4C,EAA7C;AAaD;AAEF,CA3TD,EA2TGrH,MA3TH","sourcesContent":["// VERSION: 2.3 LAST UPDATE: 11.07.2013\r\n/*\r\n * Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php\r\n *\r\n * Made by Wilq32, wilq32@gmail.com, Wroclaw, Poland, 01.2009\r\n * Website: http://jqueryrotate.com\r\n */\r\n\r\n(function ($) {\r\n  var supportedCSS, supportedCSSOrigin, styles = document.getElementsByTagName(\"head\")[0].style, toCheck = \"transformProperty WebkitTransform OTransform msTransform MozTransform\".split(\" \");\r\n  for (var a = 0; a < toCheck.length; a++) if (styles[toCheck[a]] !== undefined) { supportedCSS = toCheck[a]; }\r\n  if (supportedCSS) {\r\n    supportedCSSOrigin = supportedCSS.replace(/[tT]ransform/, \"TransformOrigin\");\r\n    if (supportedCSSOrigin[0] == \"T\") supportedCSSOrigin[0] = \"t\";\r\n  }\r\n\r\n  // Bad eval to preven google closure to remove it from code o_O\r\n  eval('IE = \"v\"==\"\\v\"');\r\n\r\n  jQuery.fn.extend({\r\n    rotate: function (parameters) {\r\n      if (this.length === 0 || typeof parameters == \"undefined\") return;\r\n      if (typeof parameters == \"number\") parameters = { angle: parameters };\r\n      var returned = [];\r\n      for (var i = 0, i0 = this.length; i < i0; i++) {\r\n        var element = this.get(i);\r\n        if (!element.Wilq32 || !element.Wilq32.PhotoEffect) {\r\n\r\n          var paramClone = $.extend(true, {}, parameters);\r\n          var newRotObject = new Wilq32.PhotoEffect(element, paramClone)._rootObj;\r\n\r\n          returned.push($(newRotObject));\r\n        }\r\n        else {\r\n          element.Wilq32.PhotoEffect._handleRotation(parameters);\r\n        }\r\n      }\r\n      return returned;\r\n    },\r\n    getRotateAngle: function () {\r\n      var ret = [0];\r\n      for (var i = 0, i0 = this.length; i < i0; i++) {\r\n        var element = this.get(i);\r\n        if (element.Wilq32 && element.Wilq32.PhotoEffect) {\r\n          ret[i] = element.Wilq32.PhotoEffect._angle;\r\n        }\r\n      }\r\n      return ret;\r\n    },\r\n    stopRotate: function () {\r\n      for (var i = 0, i0 = this.length; i < i0; i++) {\r\n        var element = this.get(i);\r\n        if (element.Wilq32 && element.Wilq32.PhotoEffect) {\r\n          clearTimeout(element.Wilq32.PhotoEffect._timer);\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  // Library agnostic interface\r\n\r\n  Wilq32 = window.Wilq32 || {};\r\n  Wilq32.PhotoEffect = (function () {\r\n\r\n    if (supportedCSS) {\r\n      return function (img, parameters) {\r\n        img.Wilq32 = {\r\n          PhotoEffect: this\r\n        };\r\n\r\n        this._img = this._rootObj = this._eventObj = img;\r\n        this._handleRotation(parameters);\r\n      }\r\n    } else {\r\n      return function (img, parameters) {\r\n        this._img = img;\r\n        this._onLoadDelegate = [parameters];\r\n\r\n        this._rootObj = document.createElement('span');\r\n        this._rootObj.style.display = \"inline-block\";\r\n        this._rootObj.Wilq32 =\r\n        {\r\n          PhotoEffect: this\r\n        };\r\n        img.parentNode.insertBefore(this._rootObj, img);\r\n\r\n        if (img.complete) {\r\n          this._Loader();\r\n        } else {\r\n          var self = this;\r\n          // TODO: Remove jQuery dependency\r\n          jQuery(this._img).bind(\"load\", function () { self._Loader(); });\r\n        }\r\n      }\r\n    }\r\n  })();\r\n\r\n  Wilq32.PhotoEffect.prototype = {\r\n    _setupParameters: function (parameters) {\r\n      this._parameters = this._parameters || {};\r\n      if (typeof this._angle !== \"number\") { this._angle = 0; }\r\n      if (typeof parameters.angle === \"number\") { this._angle = parameters.angle; }\r\n      this._parameters.animateTo = (typeof parameters.animateTo === \"number\") ? (parameters.animateTo) : (this._angle);\r\n\r\n      this._parameters.step = parameters.step || this._parameters.step || null;\r\n      this._parameters.easing = parameters.easing || this._parameters.easing || this._defaultEasing;\r\n      this._parameters.duration = 'duration' in parameters ? parameters.duration : parameters.duration || this._parameters.duration || 1000;\r\n      this._parameters.callback = parameters.callback || this._parameters.callback || this._emptyFunction;\r\n      this._parameters.center = parameters.center || this._parameters.center || [\"50%\", \"50%\"];\r\n      if (typeof this._parameters.center[0] == \"string\") {\r\n        this._rotationCenterX = (parseInt(this._parameters.center[0], 10) / 100) * this._imgWidth * this._aspectW;\r\n      } else {\r\n        this._rotationCenterX = this._parameters.center[0];\r\n      }\r\n      if (typeof this._parameters.center[1] == \"string\") {\r\n        this._rotationCenterY = (parseInt(this._parameters.center[1], 10) / 100) * this._imgHeight * this._aspectH;\r\n      } else {\r\n        this._rotationCenterY = this._parameters.center[1];\r\n      }\r\n\r\n      if (parameters.bind && parameters.bind != this._parameters.bind) { this._BindEvents(parameters.bind); }\r\n    },\r\n    _emptyFunction: function () { },\r\n    _defaultEasing: function (x, t, b, c, d) { return -c * ((t = t / d - 1) * t * t * t - 1) + b },\r\n    _handleRotation: function (parameters, dontcheck) {\r\n      if (!supportedCSS && !this._img.complete && !dontcheck) {\r\n        this._onLoadDelegate.push(parameters);\r\n        return;\r\n      }\r\n      this._setupParameters(parameters);\r\n      if (this._angle == this._parameters.animateTo) {\r\n        this._rotate(this._angle);\r\n      }\r\n      else {\r\n        this._animateStart();\r\n      }\r\n    },\r\n\r\n    _BindEvents: function (events) {\r\n      if (events && this._eventObj) {\r\n        // Unbinding previous Events\r\n        if (this._parameters.bind) {\r\n          var oldEvents = this._parameters.bind;\r\n          for (var a in oldEvents) if (oldEvents.hasOwnProperty(a))\r\n            // TODO: Remove jQuery dependency\r\n            jQuery(this._eventObj).unbind(a, oldEvents[a]);\r\n        }\r\n\r\n        this._parameters.bind = events;\r\n        for (var a in events) if (events.hasOwnProperty(a))\r\n          // TODO: Remove jQuery dependency\r\n          jQuery(this._eventObj).bind(a, events[a]);\r\n      }\r\n    },\r\n\r\n    _Loader: (function () {\r\n      if (IE)\r\n        return function () {\r\n          var width = this._img.width;\r\n          var height = this._img.height;\r\n          this._imgWidth = width;\r\n          this._imgHeight = height;\r\n          this._img.parentNode.removeChild(this._img);\r\n\r\n          this._vimage = this.createVMLNode('image');\r\n          this._vimage.src = this._img.src;\r\n          this._vimage.style.height = height + \"px\";\r\n          this._vimage.style.width = width + \"px\";\r\n          this._vimage.style.position = \"absolute\"; // FIXES IE PROBLEM - its only rendered if its on absolute position!\r\n          this._vimage.style.top = \"0px\";\r\n          this._vimage.style.left = \"0px\";\r\n          this._aspectW = this._aspectH = 1;\r\n\r\n          /* Group minifying a small 1px precision problem when rotating object */\r\n          this._container = this.createVMLNode('group');\r\n          this._container.style.width = width;\r\n          this._container.style.height = height;\r\n          this._container.style.position = \"absolute\";\r\n          this._container.style.top = \"0px\";\r\n          this._container.style.left = \"0px\";\r\n          this._container.setAttribute('coordsize', width - 1 + ',' + (height - 1)); // This -1, -1 trying to fix ugly problem with small displacement on IE\r\n          this._container.appendChild(this._vimage);\r\n\r\n          this._rootObj.appendChild(this._container);\r\n          this._rootObj.style.position = \"relative\"; // FIXES IE PROBLEM\r\n          this._rootObj.style.width = width + \"px\";\r\n          this._rootObj.style.height = height + \"px\";\r\n          this._rootObj.setAttribute('id', this._img.getAttribute('id'));\r\n          this._rootObj.className = this._img.className;\r\n          this._eventObj = this._rootObj;\r\n          var parameters;\r\n          while (parameters = this._onLoadDelegate.shift()) {\r\n            this._handleRotation(parameters, true);\r\n          }\r\n        }\r\n      else return function () {\r\n        this._rootObj.setAttribute('id', this._img.getAttribute('id'));\r\n        this._rootObj.className = this._img.className;\r\n\r\n        this._imgWidth = this._img.naturalWidth;\r\n        this._imgHeight = this._img.naturalHeight;\r\n        var _widthMax = Math.sqrt((this._imgHeight) * (this._imgHeight) + (this._imgWidth) * (this._imgWidth));\r\n        this._width = _widthMax * 3;\r\n        this._height = _widthMax * 3;\r\n\r\n        this._aspectW = this._img.offsetWidth / this._img.naturalWidth;\r\n        this._aspectH = this._img.offsetHeight / this._img.naturalHeight;\r\n\r\n        this._img.parentNode.removeChild(this._img);\r\n\r\n\r\n        this._canvas = document.createElement('canvas');\r\n        this._canvas.setAttribute('width', this._width);\r\n        this._canvas.style.position = \"relative\";\r\n        this._canvas.style.left = -this._img.height * this._aspectW + \"px\";\r\n        this._canvas.style.top = -this._img.width * this._aspectH + \"px\";\r\n        this._canvas.Wilq32 = this._rootObj.Wilq32;\r\n\r\n        this._rootObj.appendChild(this._canvas);\r\n        this._rootObj.style.width = this._img.width * this._aspectW + \"px\";\r\n        this._rootObj.style.height = this._img.height * this._aspectH + \"px\";\r\n        this._eventObj = this._canvas;\r\n\r\n        this._cnv = this._canvas.getContext('2d');\r\n        var parameters;\r\n        while (parameters = this._onLoadDelegate.shift()) {\r\n          this._handleRotation(parameters, true);\r\n        }\r\n      }\r\n    })(),\r\n\r\n    _animateStart: function () {\r\n      if (this._timer) {\r\n        clearTimeout(this._timer);\r\n      }\r\n      this._animateStartTime = +new Date;\r\n      this._animateStartAngle = this._angle;\r\n      this._animate();\r\n    },\r\n    _animate: function () {\r\n      var actualTime = +new Date;\r\n      var checkEnd = actualTime - this._animateStartTime > this._parameters.duration;\r\n\r\n      // TODO: Bug for animatedGif for static rotation ? (to test)\r\n      if (checkEnd && !this._parameters.animatedGif) {\r\n        clearTimeout(this._timer);\r\n      }\r\n      else {\r\n        if (this._canvas || this._vimage || this._img) {\r\n          var angle = this._parameters.easing(0, actualTime - this._animateStartTime, this._animateStartAngle, this._parameters.animateTo - this._animateStartAngle, this._parameters.duration);\r\n          this._rotate((~~(angle * 10)) / 10);\r\n        }\r\n        if (this._parameters.step) {\r\n          this._parameters.step(this._angle);\r\n        }\r\n        var self = this;\r\n        this._timer = setTimeout(function () {\r\n          self._animate.call(self);\r\n        }, 10);\r\n      }\r\n\r\n      // To fix Bug that prevents using recursive function in callback I moved this function to back\r\n      if (this._parameters.callback && checkEnd) {\r\n        this._angle = this._parameters.animateTo;\r\n        this._rotate(this._angle);\r\n        this._parameters.callback.call(this._rootObj);\r\n      }\r\n    },\r\n\r\n    _rotate: (function () {\r\n      var rad = Math.PI / 180;\r\n      if (IE)\r\n        return function (angle) {\r\n          this._angle = angle;\r\n          this._container.style.rotation = (angle % 360) + \"deg\";\r\n          this._vimage.style.top = -(this._rotationCenterY - this._imgHeight / 2) + \"px\";\r\n          this._vimage.style.left = -(this._rotationCenterX - this._imgWidth / 2) + \"px\";\r\n          this._container.style.top = this._rotationCenterY - this._imgHeight / 2 + \"px\";\r\n          this._container.style.left = this._rotationCenterX - this._imgWidth / 2 + \"px\";\r\n\r\n        }\r\n      else if (supportedCSS)\r\n        return function (angle) {\r\n          this._angle = angle;\r\n          this._img.style[supportedCSS] = \"rotate(\" + (angle % 360) + \"deg)\";\r\n          this._img.style[supportedCSSOrigin] = this._parameters.center.join(\" \");\r\n        }\r\n      else\r\n        return function (angle) {\r\n          this._angle = angle;\r\n          angle = (angle % 360) * rad;\r\n          // clear canvas\r\n          this._canvas.width = this._width;//+this._widthAdd;\r\n          this._canvas.height = this._height;//+this._heightAdd;\r\n\r\n          // REMEMBER: all drawings are read from backwards.. so first function is translate, then rotate, then translate, translate..\r\n          this._cnv.translate(this._imgWidth * this._aspectW, this._imgHeight * this._aspectH);\t// at least center image on screen\r\n          this._cnv.translate(this._rotationCenterX, this._rotationCenterY);\t\t\t// we move image back to its orginal\r\n          this._cnv.rotate(angle);\t\t\t\t\t\t\t\t\t\t// rotate image\r\n          this._cnv.translate(-this._rotationCenterX, -this._rotationCenterY);\t\t// move image to its center, so we can rotate around its center\r\n          this._cnv.scale(this._aspectW, this._aspectH); // SCALE - if needed ;)\r\n          this._cnv.drawImage(this._img, 0, 0);\t\t\t\t\t\t\t// First - we draw image\r\n        }\r\n\r\n    })()\r\n  }\r\n\r\n  if (IE) {\r\n    Wilq32.PhotoEffect.prototype.createVMLNode = (function () {\r\n      document.createStyleSheet().addRule(\".rvml\", \"behavior:url(#default#VML)\");\r\n      try {\r\n        !document.namespaces.rvml && document.namespaces.add(\"rvml\", \"urn:schemas-microsoft-com:vml\");\r\n        return function (tagName) {\r\n          return document.createElement('<rvml:' + tagName + ' class=\"rvml\">');\r\n        };\r\n      } catch (e) {\r\n        return function (tagName) {\r\n          return document.createElement('<' + tagName + ' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"rvml\">');\r\n        };\r\n      }\r\n    })();\r\n  }\r\n\r\n})(jQuery);"]},"metadata":{},"sourceType":"module"}